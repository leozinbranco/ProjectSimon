<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">src/pages/Login/index.js</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-card">components/Card</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Card">Card</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#components-filter">components/Filter</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Filter">Filter</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#pages">pages</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Reportar">Reportar</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#pages-home">pages/Home</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Home">Home</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#pages-list">pages/List</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Lista">Lista</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#pages-login">pages/Login</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Login">Login</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#pages-petprofile">pages/PetProfile</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Reportar">Reportar</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#pages-register">pages/Register</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Register">Register</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#routes">routes</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Routes">Routes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ListRoutes">ListRoutes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Login">Login</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-TabNavigator">TabNavigator</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#services">services</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-AuthProvider">AuthProvider</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-api">api</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-AuthContext">AuthContext</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/pages/Login/index.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import React, { useState } from &apos;react&apos;;
import {
    SafeAreaView,
    View,
    Text,
    TextInput,
    TouchableOpacity,
    Image
} from &apos;react-native&apos;;
import axios from &apos;axios&apos;


import Style from &apos;./style&apos;

import { AuthContext } from &apos;../../services/auth&apos;;


export default function Login({navigation}) {
    const goNextPage = () =&gt; navigation.navigate(&apos;Register&apos;);

    const { toggleLogged, saveUserData, isLogged} = React.useContext(AuthContext);

    
    const [email, setEmail] = useState(&apos;testeusuario@gmail.com&apos;);
    const [password, setPasword] = useState(&apos;aa112233&apos;);

    const makeLogin = async (email, password) =&gt; {

      await axios.post(&apos;http://192.168.0.5:3000/auth&apos;, { email, password }).then(result =&gt; {

          if (result.data) {
            toggleLogged() 
            //alert(isLogged)
            //saveUserData(ret.data)
           }

      }).catch(reason =&gt; {
          alert(&quot;Login invalido&quot;)
      })

      
    }

    return (

        &lt;SafeAreaView  style={Style.container}&gt;
            &lt;View  style={Style.formContainer}&gt;

                &lt;TextInput
                    style={Style.input}
                    placeholder=&quot;Email&quot;
                    onChangeText={(text) =&gt; setEmail(text)} value={email}
                /&gt;

                &lt;TextInput
                    style={Style.input}
                    placeholder=&quot;Senha&quot;
                    onChangeText={(text) =&gt; setPasword(text)} value={password}
                /&gt;

                &lt;TouchableOpacity style={Style.button} onPress={ () =&gt; makeLogin(email, password)}&gt;
                    &lt;View&gt;
                        &lt;Text style={Style.whiteText}&gt; Entrar &lt;/Text&gt;
                    &lt;/View&gt;
                &lt;/TouchableOpacity&gt;

                &lt;TouchableOpacity style={Style.createAccount } onPress={goNextPage}&gt;
                    &lt;Text style={Style.whiteText}&gt; Criar conta &lt;/Text&gt;
                &lt;/TouchableOpacity&gt;

            &lt;/View&gt;

            &lt;View style={Style.logoImage}&gt;
                &lt;Image
                    source={require(&apos;../../../assets/logo.png&apos;)}
                /&gt;
            &lt;/View&gt;


        &lt;/SafeAreaView&gt;
    );
}</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
